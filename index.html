<style>
div.absolute {
    position: absolute;
    right: 0px;
    width: 300px;
    border: 3px solid #0000;
    padding: 10px;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-for-dojo1.6/curl.js" integrity="sha256-kDusdS/5Kb46qYMcIKZfZqPq6Qv8R+ZgBYQaUE0nhTI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-for-dojo1.6/curl.min.js" integrity="sha256-nXrENtSqnd5VDkY3O+Xlojo3zEvAMDMXfPTMeZfIXJ4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-for-dojo1.8/curl.js" integrity="sha256-loMKIl9zfj3gJtZd6cPNu0chLJDMyVx2CWLQ7MzC9P8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-for-dojo1.8/curl.min.js" integrity="sha256-gyZKtfx8nD2UrwJGSHwi+fu9ILBe6raU2JhbAMkCY/8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-for-jQuery/curl.js" integrity="sha256-hzpMMW4h59dmT3/Lgg/jWGc7kImMnrRfbS1puYVSWFU=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-for-jQuery/curl.min.js" integrity="sha256-1TrIv4YgMtCvK347TTLq+1RLDObhNQv2NYQxsmPK4YI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-for-ssjs/curl.js" integrity="sha256-C/FP9PfuE2RhJFzVKc9uHnGAaCOZypzNszcps6vfQx8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-for-ssjs/curl.min.js" integrity="sha256-i79fjC1szG556Z1slAxB5Sjg0vFGXJGofppYRCOVstU=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-kitchen-sink/curl.js" integrity="sha256-yi7bSHzAKe0kn7uVIyuanwaDdnXzaFJhjY6Ze02T0tI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-kitchen-sink/curl.min.js" integrity="sha256-GPTGZg2oqjoQ5/7I86o9muQ01odaKqAJudb5F8fs2iQ=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-with-js-and-domReady/curl.js" integrity="sha256-Akzx0giGoqveNHQ/p6ihFb1IP0LL87JDhyzCXLTr5Qw=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl-with-js-and-domReady/curl.min.js" integrity="sha256-DoOP5euKLye99q/I9VuhqzkKcMod8bxG2GQRRfCwDbg=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl/curl.js" integrity="sha256-OfuLIJlb3Ff5JWCFOrIwJr/Ylovq/S/zjOP8OlXf5pM=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/curl/curl.min.js" integrity="sha256-5hWqcBZX63DZSBP6moziOt7c6k25N4q3TEGvLCrkPIE=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/debug/curl.js" integrity="sha256-re5wSkd1FKMH+QM1jHX/el/zrAVElXkmNrysDcC7/B0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/curl/0.8.13/debug/curl.min.js" integrity="sha256-JK4qsXdUdsyrwcw+KmHQ9INQY7EEZFnMK2wAKY7756U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aurelia/1.0.2/aurelia-core.js" integrity="sha256-mfoNu+HxOYrUSPfa6FbJPbjdziLEoGRPAQbsNnQ2TQc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aurelia/1.0.2/aurelia-core.min.js" integrity="sha256-9OVaDQa+9MPispfMmq5pa5KjhzMV+nK0D07ghym/0pQ=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aurelia/1.0.2/aurelia-routing.js" integrity="sha256-jz2CPFTK0IAyLAKcxibbK00mkYEoTuxfs/wIWMclzog=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aurelia/1.0.2/aurelia-routing.min.js" integrity="sha256-7LEjSeO4me1StHi2Ca8lj4k4ASQceV5Bch94U588gDg=" crossorigin="anonymous"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js" integrity="sha384-feJI7QwhOS+hwpX2zkaeJQjeiwlhOP+SdQDqhgvvo1DsjtiSQByFdThsxO669S2D" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.css" integrity="sha256-7biA04iYPD7pdGygJZMyQR0Re8UjwLNe5Q+0HjFlYzk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css" integrity="sha256-tKn8A2U9uuN5rPr3gh4A9FYMJkarrzLVyks7aS/ZfBU=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.js" integrity="sha256-ZeSciOAgb53o0Kk/fhVqmelLWfHkBOzlP6FjaeWn2Ys=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js" integrity="sha256-W9FML0cw6SfScX3k0Z8iTWhaZGSEUrR3R3KWfRA6lnI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/http.min.js" integrity="sha256-H9svUun4w8wN65phyvP1aWSeRX82KBixgLrtuquOXco=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/router.dev.js" integrity="sha256-Dp0+H7/lM9T4fFYhMX5a9VRJmfgMXCaIhVjy3tihubQ=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/router.min.js" integrity="sha256-ujY0rLniHu5X7NApjbXAWyJuCHcEBvcdk1dk8LxGwwg=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/Rx.js" integrity="sha256-duAFPRj4zYJBWt36rkSm1kiLIxMQ7yyjD3Avj6c938A=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/Rx.min.js" integrity="sha256-l0mCxIa3sPgyr7RkZUx3QuvetUDnJms31XaEfUxN8Ls=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/Rx.umd.js" integrity="sha256-roiyp6jYGoxBnpGxF97wrvs6EVTkJhyFv5987/97df4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/testing.dev.js" integrity="sha256-re9XKd+guRzMYDO/fcV0A+y6iKQ7To8uZ2n6VeCi39Y=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/upgrade.dev.js" integrity="sha256-v+N9OZ1auvmxLQyHCclKVuIoSYtVEJqxze3LsXDIsHs=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/upgrade.js" integrity="sha256-Hjcov4s3vCcuEaPcZGTi0c0ETARiBESYH5Phr4TACOk=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/upgrade.min.js" integrity="sha256-qdYefRY5PSmWEqX6ykpThrm6Q68Jl4U7RCOGCug6h04=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/web_worker/ui.dev.js" integrity="sha256-5W3TyZmaX872FPn0ltf7pArqMGeCq/1946XZpw0PDjw=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/2.0.0-beta.17/web_worker/worker.dev.js" integrity="sha256-6JLMdqKqAo57a+kcaGjS6Wm1c1EaKI3W9qJxaJYGzR4=" crossorigin="anonymous"></script>


 



<html>
    <head>
        <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
        
        <script src="https://rtcmulticonnection.herokuapp.com/dist/RTCMultiConnection.min.js"></script>
<script src="https://rtcmulticonnection.herokuapp.com/socket.io/socket.io.js"></script>
        
            <script>
var connection = new RTCMultiConnection();

// this line is VERY_important
connection.socketURL = 'https://rtcmulticonnection.herokuapp.com:443/';

// if you want audio+video conferencing
connection.session = {
    audio: true,
    video: true
};

document.getElementById("clearMsgsButton").onclick = function () {THIS.disabled = true ;

connection.openOrJoin('your-room-id');}
</script>  
    </head>
    <body>
        
        
        <table class="control">
            <tr>
                <td class="title">Status:</td>
                <td class="title">Messages:</td>
            </tr>
            <tr>
                <td>
                    <span style="font-weight: bold">ID: </span>
                    <input type="text" id="receiver-id" title="Input the ID from receive.html">
                    <button id="connect-button">Connect</button>
                </td>
                <td>
                    <input type="text" id="sendMessageBox" placeholder="Enter a message..." autofocus="true" />
                    <button type="button" id="sendButton">Send</button>
                    <button type="button" id="clearMsgsButton">Clear Msgs (Local)</button>
                </td>
            </tr>
            <tr>
                <td><div id="status" class="status"></div></td>
                <td><div class="message" id="message"></div></td>
            </tr>
            <tr>
                <td>
                    <button type="button" class="control-button" id="resetButton">Reset</button>
                </td>
                <td>
                    <button type="button" class="control-button" id="goButton">Go</button>
                </td>
            </tr>
            <tr>
                <td>
                    <button type="button" class="control-button" id="fadeButton">Fade</button>
                </td>
                <td>
                    <button type="button" class="control-button" id="offButton">Off</button>
                </td>
            </tr>
        </table>
        
        
        
        <script type="text/javascript">
            (function () {
                
                 var lastPeerId = null;
                var peer = null; // Own peer object
                var peerId = null;
                var conn = null;
                var recvId = document.getElementById("receiver-id");
                var status = document.getElementById("status");
                var message = document.getElementById("message");
                var standbyBox = document.getElementById("standby");
                var goBox = document.getElementById("go");
                var fadeBox = document.getElementById("fade");
                var offBox = document.getElementById("off");
                var sendMessageBox = document.getElementById("sendMessageBox");
                var sendButton = document.getElementById("sendButton");
                var clearMsgsButton = document.getElementById("clearMsgsButton");

                
                var peer = new Peer(); 
                var conn = peer.connect('another-peers-id');
// on open will be launch when you successfully connect to PeerServer
conn.on('open', function(){
  // here you have conn.id
  conn.send('hi!');
});
                
        var getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;
getUserMedia({video: true, audio: true}, function(stream) {
  var call = peer.call('another-peers-id', stream);
  call.on('stream', function(remoteStream) {
    // Show stream in some video/canvas element.
  });
}, function(err) {
  console.log('Failed to get local stream' ,err);
});
        
        
        var getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;
peer.on('call', function(call) {
  getUserMedia({video: true, audio: true}, function(stream) {
    call.answer(stream); // Answer the call with an A/V stream.
    call.on('stream', function(remoteStream) {
      // Show stream in some video/canvas element.
    });
  }, function(err) {
    console.log('Failed to get local stream' ,err);
  });
});
      }
        </script> 
  }

   


    
    
    
                                    
                                             
                                             
    </body>
    </html>
        

<script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
